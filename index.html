<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APLSL End Consumer Order</title>

<style>
:root{
  --brand:#1b8ea6;
  --bg:#f4f7fb;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#475569;
  --danger:#dc2626;
  --ok:#065f46;
}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:linear-gradient(180deg,#f7fbff,#eef5ff);
  color:var(--text);
}

.wrap{max-width:1000px;margin:auto;padding:24px}

.card{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:16px;
  padding:20px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  margin-bottom:16px;
}

h1{margin:0 0 10px}
h2{margin:0 0 14px}

label{
  display:block;
  font-size:13px;
  margin-bottom:6px;
  color:var(--muted);
  font-weight:600;
}

/* ðŸ”¹ Alignment improvement for Name & Mobile placeholders */
input[type="text"],
input[type="tel"],
input[type="email"]{
  width:100%;
  padding:12px 14px;
  border-radius:10px;
  border:1px solid #d1d5db;
  font-size:14px;
  box-sizing:border-box;
}

input::placeholder{
  color:#9ca3af;
  font-size:13px;
}

.grid{display:grid;gap:16px}
@media (min-width:860px){ .grid-2{grid-template-columns:1fr 1fr} }

.row{display:flex;gap:12px;flex-wrap:wrap}

.btn{
  border:none;
  border-radius:12px;
  padding:12px 18px;
  font-weight:700;
  cursor:pointer;
}

.btn-primary{background:var(--brand);color:white}
.btn-danger{background:var(--danger);color:white}

.status{margin-top:12px;font-size:14px}
.status.ok{color:var(--ok)}
.status.err{color:var(--danger)}

.medBox{
  margin-top:18px;
  border:1px solid #e5e7eb;
  border-radius:14px;
  padding:14px;
  background:#fbfdff;
}

.medScroll{
  height:420px;
  overflow:auto;
  border-radius:12px;
  border:1px solid #e5e7eb;
  background:white;
}

table{
  width:max-content;
  min-width:1000px;
  border-collapse:collapse;
}

th,td{
  padding:10px;
  border-bottom:1px solid #e5e7eb;
  font-size:13px;
}

th{
  background:#f1f5f9;
  position:sticky;
  top:0;
}

.right{text-align:right}
.qty{width:90px}
.uom{width:110px}

.req{color:var(--danger);font-weight:bold}

.note{
  margin-top:10px;
  font-size:12px;
  color:var(--muted);
}

.na-badge{
  display:inline-block;
  background:#e6f6fa;
  color:#1b8ea6;
  border:1px solid #1b8ea6;
  padding:4px 10px;
  border-radius:999px;
  font-weight:800;
  font-size:12px;
  letter-spacing:.2px;
}

</style>
</head>

<body>
<div class="wrap">

<div class="card">
<h1>Ahanitya Pharma Life Science LLP</h1>
<h2>End Consumer Order Form</h2>
<div class="note">Attachment + Selected Medicines + Quantity are compulsory for email submission.</div>
</div>

<form id="ecForm"
      action="https://formsubmit.co/infoahanityapharmalifescellp@gmail.com"
      method="POST"
      enctype="multipart/form-data"
      class="card">

<input type="hidden" name="_captcha" value="false">
<input type="hidden" name="_subject" value="APLSL End Consumer Order">
<input type="hidden" name="_template" value="table">

<h2>End Consumer Details</h2>

<div class="grid grid-2">
  <div>
    <label>Name <span class="req">*</span></label>
    <input type="text" name="Consumer Name" id="custName" placeholder="Enter Full Name" required>
  </div>
  <div>
    <label>Mobile No <span class="req">*</span></label>
    <input type="tel" name="Mobile No" id="custMobile" placeholder="Enter 10-digit Mobile No" required>
  </div>
</div>

<div class="grid grid-2" style="margin-top:14px;">
  <div>
    <label>End Consumer Mail ID</label>
    <input type="email" name="Consumer Email" placeholder="Enter Email (if available)">
  </div>
  <div>
    <label>Referred Doctor Name</label>
    <input type="text" name="Referred Doctor Name" placeholder="Doctor Name">
  </div>
</div>

<div class="grid grid-2" style="margin-top:14px;">
  <div>
    <label>Doctor Mobile No</label>
    <input type="tel" name="Doctor Mobile No" placeholder="Doctor Mobile Number">
  </div>
  <div>
    <label>Doctor Mail ID</label>
    <input type="email" name="Doctor Mail ID" placeholder="Doctor Email (if available)">
  </div>
</div>

<div style="margin-top:16px">
<label>Attach Prescription / Document <span class="req">*</span></label>
<input type="file" name="Attachment" id="custFile"
accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.xls,.xlsx,.csv"
required>
</div>

<div class="medBox">
<h2>Select Medicines & Quantity <span class="req">*</span></h2>

<div class="medScroll">
<table>
<thead>
<tr>
<th>Sr</th>
<th>Brand</th>
<th>Strength</th>
<th class="right">Qty</th>
<th class="right">Unit</th>
</tr>
</thead>
<tbody id="medBody"></tbody>
</table>
</div>
</div>

<textarea id="hiddenItems" name="Selected Medicines" style="display:none"></textarea>

<div class="row" style="margin-top:18px">
<button type="submit" class="btn btn-primary">Submit to Email</button>
<button type="button" class="btn btn-danger" onclick="sendWhatsApp()">Send to WhatsApp</button>
</div>

<div id="status" class="status"></div>

</form>
</div>

<script>
const MEDICINES=[
  {brand:"AZIN-500", strength:"Azithromycin 500 mg", available:true},
  {brand:"ASP", strength:"Aceclofenac + Paracetamol + Serratiopeptidase", available:true},
  {brand:"A-SUNAC", strength:"Aceclofenac + Paracetamol", available:true},
  {brand:"PANTO-DSR", strength:"Pantoprazole + Domperidone", available:true},
  {brand:"LE-MONT", strength:"Montelukast + Levocetirizine", available:true},
  {brand:"APLSL-DiaMet", strength:"Glimepiride 2 mg + Metformin HCl (ER)", available:false},
  {brand:"APLSL-Lulizid", strength:"Luliconazole 1%", available:false}
];

function renderRows(){
  const tbody=document.getElementById("medBody");
  tbody.innerHTML = "";
  MEDICINES.forEach((m,i)=>{
    const tr=document.createElement("tr");

    const qtyCell = (m.available === false)
      ? `<span class="na-badge">Updating Soon ðŸš€</span>`
      : `<input type="number" min="0" value="0" class="qty">`;

    const unitCell = (m.available === false)
      ? `<span class="na-badge">â€”</span>`
      : `<select class="uom">
           <option>Box</option>
           <option>Strip</option>
           <option>Bottle</option>
           <option>Each</option>
         </select>`;

    tr.innerHTML=`
      <td>${i+1}</td>
      <td>${m.brand}</td>
      <td>${m.strength}</td>
      <td class="right">${qtyCell}</td>
      <td class="right">${unitCell}</td>`;

    tbody.appendChild(tr);
  });
}


function collectItems(){
  const rows=document.querySelectorAll("#medBody tr");
  let text="";
  rows.forEach((row)=>{
    const qtyEl = row.querySelector(".qty");
    if(!qtyEl) return; // unavailable item (Updating Soon)
    const qty = Number(qtyEl.value || 0);
    if(qty>0){
      const brand=row.cells[1].innerText;
      const strength=row.cells[2].innerText;
      const unit=row.querySelector(".uom") ? row.querySelector(".uom").value : "";
      text+=`${brand} (${strength}) - ${qty} ${unit}\n`;
    }
  });
  return text;
}

});
return text;
}

document.getElementById("ecForm").addEventListener("submit",function(e){
const items=collectItems();
if(!items){
e.preventDefault();
document.getElementById("status").textContent="Please select at least one medicine with quantity.";
document.getElementById("status").className="status err";
return;
}
document.getElementById("hiddenItems").value=items;
document.getElementById("status").textContent="Sending to email...";
document.getElementById("status").className="status ok";
});

function sendWhatsApp(){
const items=collectItems();
if(!items){
alert("Select at least one medicine with quantity.");
return;
}
const name=document.getElementById("custName").value;
const mobile=document.getElementById("custMobile").value;
if(!name||!mobile){
alert("Fill Name and Mobile No first.");
return;
}
const message=`APLSL End Consumer Order%0AName: ${name}%0AMobile: ${mobile}%0A%0AMedicines:%0A${encodeURIComponent(items)}`;
window.open(`https://wa.me/918487090212?text=${message}`,"_blank");
}

renderRows();
</script>

</body>
</html>
